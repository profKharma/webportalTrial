@page
@model cmebWebPortal.Pages.createRequestModel
@{
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link href="~/css/createRequest.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<div class="spacer-top">
    <!-- Card -->
    <div class="card card-lg">
        <!-- Header -->
        <div class="card-header bg-primary-blue position-relative overflow-hidden">
            <h1 class="card-title h2 text-white">CREATE REQUEST</h1>
            @* <p class="card-text text-white">Last modified: March 27, 2018 (view archived versions)</p> *@

            <!-- Background Shapes -->
            <div class="position-absolute" style="top: -6rem; left: -6rem;">
                <img src="~/images/svg/components/shape-1-soft-light.svg" alt="SVG" width="500" style="width: 12rem;">
            </div>
            <div class="position-absolute" style="bottom: -6rem; right: -7rem;">
                <img src="~/images/svg/components/shape-7-soft-light.svg" alt="SVG" width="250">
            </div>
            <!-- End Background Shapes -->
        </div>
        <!-- End Header -->

        <div id="dateCreate" class="customFreeDiv col-4">
            <span>@DateTime.Now.ToString("dd/MM/yyyy")</span>
        </div>

        <!-- Card Body -->
        <div class="card-body">

            <div class="row shadow-xs p-3 mb-5 bg-white" id="applicantDetails">

                <!--date for req creation col-4 -->
                <div class=" topSection row">
                    <div id=" method" class="customrightDiv col-4">
                        <label>Submission Method</label>
                        @(Html.DevExtreme().SelectBox().ID("method").Placeholder("Select a method of submission")
                            .InputAttr("aria-label", "method")
                            .DataSource(new[] { " Online Submission Only", "Online and Physical Submission" }))
                    </div>

                    <div class="col-4">
                    </div>


                </div>

                <!-- Sidebar -->
                <div class="col-3">
                    <div class="sidebar">
                        <div class="sidebar-header" data-title="Click the tab(s) for the Request(s) you would like to
                                create from the side bar and enter the required details.">
                            Request Types
                        </div>
                        <ul id="reqType" class="sidebar-tabs">
                            <li data-title="Add, remove, or change staff positions. Ensures the structure reflects actual needs." data-frame="estabReq">
                                Establishment Request
                            </li>
                            <li data-title="awaiting user feedback" data-frame="recReq">Reconciliation Request</li>
                            <li data-title="awaiting user feedback" data-frame="myHr">Temporary Post No/MyHR+ Schedule Request</li>
                            <li data-title="awaiting user feedback" data-frame="postAudit">Post Audit</li>
                            <li data-title="awaiting user feedback" data-frame="orgRev">Organizational Review</li>
                            <li data-title="awaiting user feedback" data-frame="jobAnalysis">Job Analysis</li>
                            <li data-title="awaiting user feedback" data-frame="jobEval">Job Evaluation</li>
                            <li data-title="awaiting user feedback" data-frame="techAdvice">Technical Advice</li>
                        </ul>

                    </div>
                </div>


                <div id="mainContent" class="col-9">
                    <form id="createReq" method="post">

                        

                        <!--MDA Details-->
                        <div id="mdaDetesDiv" class="row frameDiv">

                            <button type="button" class="toggleBtn">ENTITY DETAILS </button>



                            <div id=" Ministry" class="col-4">
                                <label>MDA</label>
                                @(Html.DevExtreme().SelectBox().ID("mda").Placeholder("Select a Ministry/Dept/Agency")
                                    .InputAttr("aria-label", "mda details")
                                    .DataSource(new[] { "" }))
                            </div>

                           

                            <div id=" Division" class="col-4">
                                <label>Division</label>
                                @(Html.DevExtreme().SelectBox().ID("division").Placeholder("Select a Division/Branch/Region")
                                    .InputAttr("aria-label", "Division details")
                                    .DataSource(new[] { "" }))
                            </div>

                            <div id=" Department" class="col-4">
                                <label>Unit</label>
                                @(Html.DevExtreme().SelectBox().ID("Department").Placeholder("Select a Dept/Section/Unit")
                                    .InputAttr("aria-label", "Department details")
                                    .DataSource(new[] { "" }))
                            </div>


                            <div id=" fName" class="col-6">
                                <label> Contact Officer Full Name  </label>
                                @(Html.DevExtreme().TextBox().ElementAttr(new { @class = "required-input" }).InputAttr("aria-label", "fName"))
                            </div>

                            <div id=" email" class="col-6">
                                <label> Contact Officer Email  </label>
                                @(Html.DevExtreme().TextBox().Placeholder("example@example.gov.jm").InputAttr("aria-label", "email"))
                            </div>





                            <div id=" phoneNumberOff" class="col-6">
                                <label> Office Phone Number  </label>
                                @(Html.DevExtreme().TextBox().Placeholder("+(1)876-123-4567").InputAttr("aria-label", "phoneNumber"))
                            </div>
                            <div id=" phoneNumberCUG" class="col-6">
                                <label> CUG Phone Number  </label>
                                @(Html.DevExtreme().TextBox().Placeholder("+(1)876-123-4567").InputAttr("aria-label", "phoneNumber"))
                            </div>



                            <div id="summary" class="col-12 ">
                                <label> Summary of Submission  </label>
                                @(Html.DevExtreme().TextArea().InputAttr("aria-label", "summary"))

                            </div>

                            <!--  File uploader section -->
                            <div id="fileuploader" class="file-uploader">
                                <div class="widget-container border border-dashed">
                                    <p class="uploadingNotes"> Users are required to upload any supporting documents  
                                        for the Entity submitting the requests.</p>
                                    @(Html.DevExtreme().FileUploader()
                                        .ID("file-uploader1")
                                        .Name("myFile")
                                        .SelectButtonText("Select Files")
                                        .Multiple(true)
                                        @* .Accept(".docx, .pdf") *@
                                        .UploadMode(FileUploadMode.UseButtons)
                                        .UploadUrl(Url.Action("Upload", "FileUploader"))
                                        .OnValueChanged("fileUploader_valueChanged")
                                        )
                                </div>
                            </div>
                            <!-- END  File uploader section -->
                        </div>

                        <!--post Info-->
                        <div id="postInfo" class="row frameDiv">
                            <button class="toggleBtn d-flex "> 
                                <span>POST INFORMATION</span>
                                @* <span class="frame-icon ms-auto rotate-icon">▲</span> *@
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                                </button>
                            <div id="postInfoDiv" class="row content">
                                <div id="postNum" class="col-4">
                                    <label>Post Number</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Post [# 61305]").InputAttr("aria-label", "postNum"))
                                </div>


                                <div id="postType" class="col-4">
                                    <label>Post Type</label>
                                    @(Html.DevExtreme().SelectBox().Placeholder("Select Post Type").InputAttr("aria-label", "postType").DataSource(new[] { "Permanent", "Temporary" }))
                                </div>

                                <div id="postStatus" class="col-4">
                                    <label>Post Status</label>
                                    @(Html.DevExtreme().SelectBox().Placeholder("Select Post Status").InputAttr("aria-label", "postStatus").
                                        DataSource(new[] { "Filled", "Vacant" }))
                                </div>

                                <div id="postTitle" class="col-4">
                                    <label>Post Title</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Eg:Senior Analyst").InputAttr("aria-label", "postTitle"))
                                </div>

                                <div id="postGrade" class="col-4">
                                    <label>Post Grade</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Eg: SEG").InputAttr("aria-label", "postGrade"))
                                </div>

                                <div id="postLev" class="col-4">
                                    <label>Post Level</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("EG: 6").InputAttr("aria-label", "postLev"))
                                </div>


                                <div id="Location" class="">
                                    <label>Post Location</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Eg: Kingston branch").InputAttr("aria-label", "Location"))
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader2")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>
                        <!--Employee/Job Holder Information -->
                        <div id="empJobHolder" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>CURRENT EMPLOYEE INFORMATION</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>

                            <div class="row content">
                                <div id=" empFname" class="col-6">
                                    <label>Employee First Name</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter first name here...").InputAttr("aria-label", "empFname"))
                                </div>
                                <div id=" empLname" class="col-6">
                                    <label>Employee Last Name</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter last name here...").InputAttr("aria-label", "empLname"))
                                </div>
                                <div id=" empType" class="col-6">
                                    <label>Employee Type</label>
                                    @(Html.DevExtreme().SelectBox().ID("empType")
                                        .InputAttr("aria-label", "employee Type")
                                        .DataSource(new[] { "Temporary", "Permanent", "Contract" }))
                                </div>


                                <div id="empStatus" class="col-6">
                                    <label>Employee Status</label>
                                    @(Html.DevExtreme().DropDownBox().Placeholder("Enter Employee Status").InputAttr("aria-label", "empStatus"))
                                </div>
                                <!--submitReqBtnsDiv-->
                                <div id="subBtnsDiv" class="row">
                                    <div id="addBtn" class="doneBtn col-6">
                                        @(Html.DevExtreme().Button().Icon("plus")
                                            .Text("Add ")
                                            .Type(ButtonType.Success).ElementAttr(new { @class = "button-custom" })
                                            .UseSubmitBehavior(true))
                                    </div>


                                    <div class="doneBtn col-6">
                                        @(Html.DevExtreme().Button()
                                            .Icon("trash")
                                            .Text("Remove ")
                                            .Type(ButtonType.Default).ElementAttr(new { @class = "button-custom" })
                                            .UseSubmitBehavior(false))
                                    </div>

                                </div>

                                <!--  START List view for multiple record -->

                                <div style="border: 1px solid #ccc; padding: 1rem; width: 100%; max-width: 600px; margin: auto; font-size: 12px;">
                                    <h3 style="font-size: 14px;">Employee Records</h3>
                                    <table style="width: 100%; border-collapse: collapse; border: 1px solid #ddd;">
                                        <thead>
                                            <tr style="background-color: #f0f0f0;">
                                                <th style="text-align: left; padding: 4px; border-right: 1px solid #ccc; border-left: 1px solid #ccc;">First Name</th>
                                                <th style="text-align: left; padding: 4px; border-right: 1px solid #ccc;">Last Name</th>
                                                <th style="text-align: left; padding: 4px; border-right: 1px solid #ccc;">Employee Type</th>
                                                <th style="text-align: left; padding: 4px; border-right: 1px solid #ccc;">First Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="padding: 4px; border-right: 1px solid #ccc; border-left: 1px solid #ccc;">Alice</td>
                                                <td style="padding: 4px; border-right: 1px solid #ccc;">Johnson</td>
                                                <td style="padding: 4px; border-right: 1px solid #ccc;">Full-Time</td>
                                                <td style="padding: 4px; border-right: 1px solid #ccc;">Active</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 4px; border-right: 1px solid #ccc; border-left: 1px solid #ccc;">Bob</td>
                                                <td style="padding: 4px; border-right: 1px solid #ccc;">Smith</td>
                                                <td style="padding: 4px; border-right: 1px solid #ccc;">Part-Time</td>
                                                <td style="padding: 4px; border-right: 1px solid #ccc;">Pending</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <!--  END List view for multiple record -->

                               
                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader3")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader", new { context = "employee" }))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )

                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>
                        <!-- Classification Schedule -->
                        <div id="classification" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>POST CLASSIFICATION SCHEDULE</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>

                            <div class="row content">

                                <div id="scheduleType" class="col-4">
                                    <label>Schedule Type</label>
                                    @(Html.DevExtreme().SelectBox().Placeholder("Select a Schedule Type").InputAttr("aria-label", "scheduleType").DataSource(new[] { "Proposed Classification Schedule", "Final Classification Schedule" }))
                                </div>

                                <div id="postNum" class="col-4">
                                    <label>Post Number</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Post [# 61305]").InputAttr("aria-label", "postNum"))
                                </div>

                                <div id=" scheduleType" class="col-4">
                                    <label>Classification Schedule Type</label>

                                    @(Html.DevExtreme().SelectBox().ID("classSchedType")
                                        .InputAttr("aria-label", "schedule Type")
                                        .DataSource(new[] { "Proposed Classification Schedule", "Final Classification Schedule" }))
                                </div>
                                <div id=" oldClass" class="col-6">
                                    <label>Old Classification </label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Eg. GMG CTD 1").InputAttr("aria-label", "oldClass"))
                                </div>
                                <div id=" newClass" class="col-6">
                                    <label>New Classification </label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Eg. GMG CTD 2").InputAttr("aria-label", "newClass"))
                                </div>
                                <div id=" scdRemarks" class="col-12 ta">
                                    <label>Remarks</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "scdRemarks"))
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader11")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>

                        <!--Establishment Request -->

                        <div id="estabReq" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>ESTABLISHMENT REQUEST</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>


                            <div class="row content">

                                <div id=" DateRevised" class="col-6">
                                    <label>Last Revised</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "DateRevised").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>

                                <div id=" DateRequested" class="col-6">
                                    <label>Last Requested</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "DateRequested").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" genRemarksER" class="col-12 ta">
                                    <label>General Remarks</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "genRemarksER"))
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader4")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>

                        <!--Reconciliation Request  -->
                        <div id="recReq" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>RECONCILIATION REQUEST</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>


                            <div class="row content">
                                <div id=" DateRecReceived" class="col-4">
                                    <label>Date Reconciliation Received</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" estOfficer" class="col-4">
                                    <label>Establishment Officer</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter the Establishment Officer").InputAttr("aria-label", "estOfficer"))
                                </div>
                                <div id=" AssignedVerifs" class="col-4">
                                    <label>Assigned Verifier(s)</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter Assigned Verifier(s)").InputAttr("aria-label", "AssignedVerifs"))
                                </div>
                                <div id=" numErrors" class="col-4">
                                    <label> No. of errors detected</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter the number of errors").InputAttr("aria-label", "numErrors"))
                                </div>
                                <div id=" errorType" class="col-4">
                                    <label>Type of Error</label>
                                    `@(Html.DevExtreme().TextBox().Placeholder("Enter the type of Error").InputAttr("aria-label", "errorType"))
                                </div>
                                <div id=" Date" class="col-4">
                                    <label>Date sent to IT officer for Correction</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" Date" class="col-4">
                                    <label>Date returned to Establishment Officer</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" Date" class="col-4">
                                    <label>Date sent to Chief for Approval</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>

                                <div id=" Date" class="col-4">
                                    <label>Date Approved by Chief</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" taTime" class="col-6">
                                    <label>Reconciliation turnaround time</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter the Business Days taken").InputAttr("aria-label", "taTime"))
                                </div>
                                <div id="reconStatus" class="col-6">
                                    <label>Reconciliation Status</label>
                                    @(Html.DevExtreme().SelectBox().Placeholder("Select Status").InputAttr("aria-label", "recStat").DataSource(new[] { "Reconciled", "Unreconciled", "Pending" }))
                                </div>

                                <!--submitReqBtnsRec-->
                                <div id="subBtnsDiv" class="row">
                                    <div id="addBtn" class="doneBtn col-6">
                                        @(Html.DevExtreme().Button().Icon("plus")
                                            .Text("Add ")
                                            .Type(ButtonType.Success).ElementAttr(new { @class = "button-custom" })
                                            .UseSubmitBehavior(true))
                                    </div>


                                    <div class="doneBtn col-6">
                                        @(Html.DevExtreme().Button()
                                            .Icon("trash")
                                            .Text("Remove")
                                            .Type(ButtonType.Default).ElementAttr(new { @class = "button-custom" })
                                            .UseSubmitBehavior(false))
                                    </div>

                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader5")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>


                        <!--MyHR+ Schedule-->
                        <div id="myHr" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>MYHR+ SCHEDULE</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>


                            <div class="row content">

                                <div id=" classGrade" class="col-4">
                                    <label>Classification Grade</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter the Classification Grade").InputAttr("aria-label", "classGrade"))
                                </div>
                                <div id=" opDuration" class="col-4">
                                    <label>Duration of Post Operation</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter the Duration of Operation").InputAttr("aria-label", "opDuration"))
                                </div>
                                <div id=" startDate" class="col-4">
                                    <label>Start Date</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id="endDate" class="col-6">
                                    <label>End Date</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" taTime" class="col-6">
                                    <label>Temporary Post No (Generated by CMEB)</label>
                                    @(Html.DevExtreme().TextBox().Placeholder("Enter the Temporary Post Number").InputAttr("aria-label", "taTime"))
                                </div>

                                <div id=" genRemarksER" class="col-12 ta">
                                    <label>General Remarks</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "genRemarksER"))
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader6")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>

                        <!--postAudit-->
                        <div id="postAudit" class="row frameDiv ta">
                            <button class="toggleBtn d-flex">
                                <span>POST AUDIT</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>


                            <div class=" row content">
                                <div id=" variances" class="col-6">
                                    <label>Variances</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "variance"))
                                </div>
                                <div id=" varianceJustification" class="col-6">
                                    <label>Justification for variances</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "varianceJustification"))
                                </div>
                                <div id=" auditFindings" class="col-6">
                                    <label>Audit Findings</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "auditFindings"))
                                </div>
                                <div id=" auditRecommendation" class="col-6">
                                    <label>Audit Recommendation</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "auditRecommendation"))
                                </div>
                                <div id="currentJD" class="col-12">
                                    <label>Is current Job Description available?</label>
                                    @(Html.DevExtreme().SelectBox().Placeholder("Choose Yes or No").InputAttr("aria-label", "currentJD").DataSource(new[] { "Yes", "No" }))
                                </div>
                                <div id=" genRemarksPA " class="col-12 ta">
                                    <label>General Remarks</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "genRemarks"))
                                </div>
                                <!--submitReqBtnsDiv-->
                                <div id="subBtnsDiv2" class="row">
                                    <div id="addBtn2" class="doneBtn col-6">
                                        @(Html.DevExtreme().Button().Icon("plus")
                                            .Text("Add ")
                                            .Type(ButtonType.Success).ElementAttr(new { @class = "button-custom" })
                                            .UseSubmitBehavior(true))
                                    </div>


                                    <div class="doneBtn col-6">
                                        @(Html.DevExtreme().Button()
                                            .Icon("trash")
                                            .Text("Remove ")
                                            .Type(ButtonType.Default).ElementAttr(new { @class = "button-custom" })
                                            .UseSubmitBehavior(false))
                                    </div>
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader7")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader", new { context = "postAudit" }))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )

                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>

                        <!--Organizational Review-->
                        <div id="orgRev" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>ORGANIZATIONAL REVIEW</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>


                            <div class="row content">

                                <div id=" descriptionOrg" class="col-6 ta">
                                    <label>Description</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "genRemarksER"))
                                </div>
                                <div id=" genRemarksOR" class="col-6 ta">
                                    <label>General Remarks</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "genRemarksOR"))
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader8")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>

                        <!--jobAnalysis eval-->
                        <div id="jobAnalysis" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>JOB ANALYSIS/EVALUATION</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>


                            <div class="row content">

                                <div id=" tlName" class="col-4">
                                    <label> Team Lead Name  </label>
                                    @(Html.DevExtreme().TextBox().InputAttr("aria-label", "tlName"))
                                </div>
                                <div id=" tlJobTitle" class="col-4">
                                    <label> Team Lead Title  </label>
                                    @(Html.DevExtreme().TextBox().InputAttr("aria-label", "tlJobTitle"))
                                </div>
                                <div id=" tlGrade" class="col-4">
                                    <label> Team Lead Grade  </label>
                                    @(Html.DevExtreme().TextBox().InputAttr("aria-label", "tlGrade"))
                                </div>
                                <div id=" reportsNumber" class="col-6">
                                    <label> Number of Reports  </label>
                                    @(Html.DevExtreme().TextBox().InputAttr("aria-label", "reportsNumber"))
                                </div>
                                <div id=" empInfo" class="col-6">
                                    <label> Employee/ Job Holder Infromation  </label>
                                    @(Html.DevExtreme().TextBox().InputAttr("aria-label", "empInfo"))
                                </div>
                                <div id=" posPurpose" class="col-6 ta">
                                    <label>Position Purpose</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "posPurpose"))
                                </div>
                                <div id=" keyOutput" class="col-6 ta">
                                    <label>Key Output</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "keyOutput"))
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader9")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>

                        <!--Technical Advice-->
                        <div id="techAdvice" class="row frameDiv">
                            <button class="toggleBtn d-flex">
                                <span>TECHNICAL ADVICE</span>
                                <span class="frame-icons ms-auto">
                                    <i class="rotate-icon">▲</i>
                                    <i class="fas fa-trash delete-icon ms-2"></i>
                                </span>
                            </button>


                            <div class="row content">

                                <div id=" reqRecDateTA" class="col-4">
                                    <label>Date Request Received</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" dueDateTA" class="col-4">
                                    <label>Due Date of Response</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" dateRespSent" class="col-4">
                                    <label>Date Response Sent</label>
                                    @(Html.DevExtreme().DateBox().InputAttr("aria-label", "Date").Type(DateBoxType.Date).Value(DateTime.Now))
                                </div>
                                <div id=" responseTA" class="col-6 ta">
                                    <label>Recommendations (response)</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "responseTA"))
                                </div>
                                <div id=" summaryTA" class="col-6 ta">
                                    <label>Summary of  Requested Advice</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "summaryTA"))
                                </div>
                                <div id=" remarksTA" class="col-12 ta">
                                    <label>Remarks</label>
                                    @(Html.DevExtreme().TextArea().InputAttr("aria-label", "remarksTA"))
                                </div>

                                <!--  File uploader section -->
                                <div id="fileuploader" class="file-uploader">
                                    <div class="widget-container border border-dashed">
                                        <p class="uploadingNotes">
                                            Users are required to upload any supporting documents
                                            for the post information required for your request(s).
                                        </p>
                                        @(Html.DevExtreme().FileUploader()
                                            .ID("file-uploader10")
                                            .Name("myFile")
                                            .SelectButtonText("Select Files")
                                            .Multiple(true)
                                            @* .Accept(".docx, .pdf") *@
                                            .UploadMode(FileUploadMode.UseButtons)
                                            .UploadUrl(Url.Action("Upload", "FileUploader"))
                                            .OnValueChanged("fileUploader_valueChanged")
                                            )
                                    </div>
                                </div>
                                <!-- END  File uploader section -->


                            </div>
                        </div>

                        <!--buttons to save and continue-->
                        <div id="subBtnsDiv3" class="row">
                            <div class="doneBtn">
                                <button type="button" class="btn button-custom" onclick="saveAndClose()">
                                    Save & Close <i class='far fa-check-circle'></i>
                                </button>
                            </div>


                            <div class="doneBtn ">
                                <a href="/previewPage" class="btn button-custom" id="previewBtn">
                                    Continue <i class='far fa-arrow-alt-circle-right'></i>
                                </a>
                            </div>

                        </div>


                    </form>
                </div>
            </div>

        </div>
        <!-- End Card Body -->
    </div>
    <!-- End Card -->
</div>

<style>

    .content {
        visibility: hidden;
        height: 0;
        overflow: hidden;
        transition: height 0.3s ease, visibility 0.3s ease;
    }

        .content.show {
            visibility: visible;
            height: auto;
        }

    .toggleBtn {
        display: block;
        width: 100%;
        text-align: left;
        background-color: #004869;
        color: white;
        border: none;
        padding: 10px;
        cursor: pointer;
        font-weight: bold;
    }

        .toggleBtn:hover {
            background-color: #008060;
        }

    .rotate-icon {
        display: inline-block;
        transition: transform 0.3s ease;
    }

        .rotate-icon.rotated {
            transform: rotate(180deg);
        }
</style>

<script>

        // Toggle the up and down arrow for frame sections
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".toggleBtn").forEach(function (button) {
            button.addEventListener("click", function (event) {
                event.preventDefault();
                const rotateIcon = button.querySelector(".rotate-icon");
                const content = button.nextElementSibling;
                if (content) {
                    content.classList.toggle("show");
                }
                if (rotateIcon) {
                    rotateIcon.classList.toggle("rotated");
                }
            });
        });
    });

    // Js to delete frames
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".delete-icon").forEach(function (icon) {
            icon.addEventListener("click", function (event) {
                event.preventDefault();
                const frame = this.closest(".frameDiv");
                if (frame) {
                    frame.remove();
                }
            });
        });
    });


    // Multi-select sidebar tabs and show/hide corresponding frames
    document.addEventListener('DOMContentLoaded', function () {
        const sidebarTabs = document.querySelectorAll('#reqType li');
        // List of all possible frame IDs
        const allFrameIds = [
            'estabReq',
            'recReq',
            'myHr',
            'postAudit',
            'orgRev',
            'jobAnalysis',
            'jobEval',
            'techAdvice'
        ];

        // On page load, hide all frames by default
        allFrameIds.forEach(id => {
            const frame = document.getElementById(id);
            if (frame) frame.style.display = 'none';
        });

        sidebarTabs.forEach(tab => {
            tab.addEventListener('click', function () {
                // Toggle selected class for multi-select
                this.classList.toggle('selected');

                // Show or hide the corresponding frame
                const frameId = this.getAttribute('data-frame');
                const frame = document.getElementById(frameId);
                if (frame) {
                    // Toggle frame visibility based on tab selection
                    if (this.classList.contains('selected')) {
                        frame.style.display = '';
                    } else {
                        frame.style.display = 'none';
                    }
                }
            });
        });
    });

    
    document.addEventListener('DOMContentLoaded', function () {
        // When "Continue" is clicked, gather form data and show modal
        document.getElementById('previewBtn').addEventListener('click', function () {
            // Gather data from form fields (adjust selectors as needed)
            const mda = document.querySelector('[aria-label="mda details"]')?.value || '';
            const division = document.querySelector('[aria-label="Division details"]')?.value || '';
            const department = document.querySelector('[aria-label="Department details"]')?.value || '';
            const fName = document.querySelector('[aria-label="fName"]')?.value || '';
            const email = document.querySelector('[aria-label="email"]')?.value || '';
            const phoneNumber = document.querySelector('[aria-label="phoneNumber"]')?.value || '';
            const summary = document.querySelector('[aria-label="summary"]')?.value || '';

            // Add more fields as needed...

            // Build preview HTML
            let html = `
                <dl class="row">
                    <dt class="col-sm-4">MDA</dt><dd class="col-sm-8">${mda}</dd>
                    <dt class="col-sm-4">Division</dt><dd class="col-sm-8">${division}</dd>
                    <dt class="col-sm-4">Department</dt><dd class="col-sm-8">${department}</dd>
                    <dt class="col-sm-4">Contact Name</dt><dd class="col-sm-8">${fName}</dd>
                    <dt class="col-sm-4">Email</dt><dd class="col-sm-8">${email}</dd>
                    <dt class="col-sm-4">Phone Number</dt><dd class="col-sm-8">${phoneNumber}</dd>
                    <dt class="col-sm-4">Summary</dt><dd class="col-sm-8">${summary}</dd>
                </dl>
            `;

            document.getElementById('previewContent').innerHTML = html;

            // Show the modal
            var modal = new bootstrap.Modal(document.getElementById('previewModal'));
            modal.show();
        });

        // When "Yes, Submit" is clicked, submit the form
        document.getElementById('confirmSubmitBtn').addEventListener('click', function () {
            document.getElementById('createReq').submit();
        });
    });

</script>

//Script for previewer:
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


@* <script> *@
@*     // Multi-select sidebar tabs and show/hide corresponding frames *@
@*     document.addEventListener('DOMContentLoaded', function () { *@
@*         const sidebarTabs = document.querySelectorAll('#reqType li'); *@
@*         // List of all possible frame IDs *@
@*         const allFrameIds = [ *@
@*             'estabReq', *@
@*             'recReq', *@
@*             'myHr', *@
@*             'postAudit', *@
@*             'orgRev', *@
@*             'jobAnalysis', *@
@*             'jobEval', *@
@*             'techAdvice' *@
@*         ]; *@

@*         sidebarTabs.forEach(tab => { *@
@*             tab.addEventListener('click', function () { *@
@*                 // Toggle selected class for multi-select *@
@*                 this.classList.toggle('selected'); *@

@*                 // Show or hide the corresponding frame *@
@*                 const frameId = this.getAttribute('data-frame'); *@
@*                 const frame = document.getElementById(frameId); *@
@*                 if (frame) { *@
@*                     // Toggle frame visibility based on tab selection *@
@*                     if (this.classList.contains('selected')) { *@
@*                         frame.style.display = ''; *@
@*                     } else { *@
@*                         frame.style.display = 'none'; *@
@*                     } *@
@*                 } *@
@*             }); *@
@*         }); *@

@*         // On page load, hide all frames by default *@
@*         allFrameIds.forEach(id => { *@
@*             const frame = document.getElementById(id); *@
@*             if (frame) frame.style.display = 'none'; *@
@*         }); *@
@*     }); *@
@* </script> *@


